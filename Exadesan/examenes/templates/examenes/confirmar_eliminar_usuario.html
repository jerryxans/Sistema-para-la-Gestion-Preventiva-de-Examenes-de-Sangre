{% extends "examenes/base.html" %}

{% block title %}Confirmar Eliminaci√≥n{% endblock %}

{% block content %}
<div class="medical-bg min-vh-100">
  <main class="d-flex flex-column min-vh-100">
    
    <section class="gradient-danger text-white text-center py-5 shadow-sm">
      <div class="header-content container">
        <h2 class="fw-bold fs-3 brand-animated mb-1">‚ö†Ô∏è ACCI√ìN REVERSIBLE</h2>
        <p class="mb-0 small opacity-75 fw-light">Se requiere confirmaci√≥n administrativa para proceder</p>
      </div>
    </section>

    <div class="flex-grow-1 d-flex align-items-center justify-content-center py-4">
      <div class="container px-3">
        
        <div class="card glass-card-danger shadow-lg border-0 mx-auto" style="max-width: 480px;">
          <div class="card-body p-4 p-md-5 text-center">
            
            <div class="warning-icon-wrapper mb-4">
                <div class="warning-icon">üóëÔ∏è</div>
            </div>

            <h4 class="fw-bold text-dark mb-3">¬øConfirmar eliminaci√≥n?</h4>
            <p class="text-secondary mb-4">
              Est√°s a punto de eliminar permanentemente al usuario: <br>
              <span class="badge bg-light text-danger border mt-2 fs-6 px-3 rounded-pill fw-bold">
                {{ usuario.username }}
              </span>
            </p>
            
            <div class="alert alert-warning small border-0 rounded-4 mb-4">
                <strong>Atenci√≥n:</strong> Esta acci√≥n borrar√° todos los registros asociados y no se puede deshacer.
            </div>

            <form method="POST">
              {% csrf_token %}
              <div class="d-grid d-sm-flex justify-content-center gap-3">
                <a href="{% url 'examenes:lista_usuarios' %}" 
                   class="btn btn-cancel shadow-sm">
                   Cancelar
                </a>
                <button type="submit" class="btn btn-delete shadow-sm">
                   Confirmar Eliminaci√≥n
                </button>
              </div>
            </form>

          </div>
        </div>

      </div>
    </div>
  </main>
</div>

<style>
  :root {
    --danger-red: #dc3545;
    --soft-bg: #f8fbff;
    --border-anim-danger: conic-gradient(from 0deg, transparent 20%, var(--danger-red), transparent 80%);
  }

  .medical-bg {
    background-color: var(--soft-bg);
    background-image: radial-gradient(#ffd1d1 1px, transparent 1px);
    background-size: 25px 25px;
  }

  .gradient-danger {
    background: linear-gradient(-45deg, #dc3545, #ff4d4d, #c82333);
    background-size: 400% 400%;
    animation: gradientFlow 8s ease infinite;
  }
  @keyframes gradientFlow { 0% {background-position: 0% 50%;} 50% {background-position: 100% 50%;} 100% {background-position: 0% 50%;} }

  .glass-card-danger {
    background: rgba(255, 255, 255, 0.98) !important;
    border-radius: 28px;
    position: relative;
    padding: 3px;
    z-index: 1;
    overflow: hidden;
  }
  .glass-card-danger::before {
    content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
    background: var(--border-anim-danger);
    animation: rotateBorder 4s linear infinite;
    z-index: -1;
  }
  @keyframes rotateBorder { 100% { transform: rotate(360deg); } }
  .glass-card-danger .card-body { background: white; border-radius: 25px; }

  .warning-icon-wrapper {
    display: flex; justify-content: center;
  }
  .warning-icon {
    width: 80px; height: 80px; background: #fff5f5;
    border: 2px dashed #feb2b2; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 2.5rem; animation: pulseDanger 2s infinite;
  }
  @keyframes pulseDanger {
    0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(220, 53, 69, 0.2); }
    70% { transform: scale(1.05); box-shadow: 0 0 0 15px rgba(220, 53, 69, 0); }
    100% { transform: scale(1); }
  }

  .btn-cancel {
    background: #f1f5f9; color: #475569; font-weight: 700;
    border-radius: 50px; padding: 12px 30px; border: none;
    transition: 0.3s; font-size: 0.9rem;
  }
  .btn-cancel:hover { background: #e2e8f0; transform: translateY(-2px); }

  .btn-delete {
    background: var(--danger-red); color: white; font-weight: 700;
    border-radius: 50px; padding: 12px 30px; border: none;
    transition: 0.3s; font-size: 0.9rem;
  }
  .btn-delete:hover { background: #c82333; transform: translateY(-2px); box-shadow: 0 5px 15px rgba(220, 53, 69, 0.3); }

  @media (max-width: 576px) {
    .flex-grow-1 { align-items: flex-start !important; padding-top: 30px !important; }
    .btn-delete, .btn-cancel { width: 100%; }
  }
</style>
{% endblock %}